# KODA.md

## Обзор проекта

Проект **vue-sneakers** представляет собой интернет-магазин кроссовок, разработанный с использованием современного стека технологий Vue 3.

### Основные технологии

- **Фреймворк:** Vue 3 (Composition API, `<script setup>`)
- **Сборщик:** Vite 6
- **Язык:** TypeScript 5
- **Стилизация:** Tailwind CSS 3
- **Управление состоянием:** Pinia 3
- **Роутинг:** Vue Router 4
- **Валидация форм:** VeeValidate 4 + Zod 3
- **Анимации:** @formkit/auto-animate
- **HTTP-клиент:** Axios

### Архитектура

- **Pages:** Страницы приложения (`src/pages/`).
- **Components:** Переиспользуемые компоненты (`src/components/`).
- **Layouts:** Компоновки страниц (`src/layouts/`).
- **Stores:** Хранилища Pinia (`src/stores/`).
- **Services:** Сервисы для работы с API (`src/services/`).
- **Utils:** Утилиты (`src/utils/`).
- **Config:** Конфигурация (`src/config/`).
- **Routes:** Роутер и маршруты (`src/routes/`).

## Сборка и запуск

### Установка зависимостей

```bash
npm install
```

### Запуск сервера разработки

```bash
npm run dev
```

### Сборка для продакшена

```bash
npm run build
```

### Предпросмотр собранного приложения

```bash
npm run preview
```

### Линтинг и форматирование

```bash
# Исправление ошибок линтера
npm run lint

# Форматирование кода
npm run format
```

## Правила разработки

### Стиль кодирования

- Используется **ESLint** с конфигурацией для Vue 3 и Prettier.
- Форматирование кода автоматизировано с помощью **Prettier**.
- В компонентах Vue используется **Composition API** и синтаксис `<script setup>`.
- Все файлы компонентов имеют расширение `.vue`.
- TypeScript строго типизирован, используются интерфейсы и типы из папки `types`.
- Пути к файлам задаются через алиас `@`, который указывает на директорию `src`.

### Компоненты

- Компоненты хранятся в директории `src/components`.
- Имена компонентов записываются в **PascalCase** (например, `BaseInput.vue`).
- Для создания универсальных компонентов (например, полей ввода) используется `defineOptions({ inheritAttrs: false })` для ручного управления атрибутами.

### Валидация

- Для валидации форм используется библиотека **VeeValidate 4** в связке с **Zod**.
- Компонент `Field` из VeeValidate используется для обёртки полей ввода.
- Сообщения об ошибках валидации передаются в компоненты через пропсы (например, `error`).

### Роутинг

- Настройка маршрутов находится в файле `src/routes/router.ts`.
- Используется `createWebHashHistory` для хэш-роутинга.
- Маршруты организованы в виде древовидной структуры с использованием вложенных `children`.

### Tailwind CSS

- Стилизация осуществляется с помощью классов Tailwind CSS.
- Конфигурация Tailwind находится в файле `tailwind.config.js`.

## Особенности

### Алиасы путей

В проекте настроен алиас `@`, который ссылается на директорию `src`. Пример использования в импортах:

```typescript
import BaseInput from '@/components/BaseInput.vue';
```

### Базовая конфигурация Vite

- Базовый путь приложения: `/vue_sneakers-store/`.
- Выходная директория для сборки: `docs`.
- Поддержка алиасов путей.

### Глобальные плагины

В файле `src/main.ts` подключаются глобальные плагины:

- **Vue Router:** для управления маршрутизацией.
- **Pinia:** для управления состоянием приложения.
- **AutoAnimatePlugin:** для автоматической анимации переходов.

## Структура директорий

```text
src/
├── assets/          # Статические ресурсы (CSS, изображения)
├── components/      # Переиспользуемые Vue-компоненты
├── config/          # Конфигурационные файлы
├── layouts/         # Шаблоны-layouts для страниц
├── pages/           # Страницы приложения
├── routes/          # Конфигурация маршрутов
├── services/        # Сервисы для работы с API
├── stores/          # Хранилища Pinia
├── types/           # TypeScript типы
├── utils/           # Вспомогательные функции
├── App.vue          # Корневой компонент
└── main.ts          # Точка входа в приложение
```
